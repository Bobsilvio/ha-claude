{
  "permissions": {
    "allow": [
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\n2.9.17: Fix NameError by adding get_ha_token\\(\\) and get_ha_headers\\(\\) functions\n\nAdded missing functions that were causing runtime errors:\n- SUPERVISOR_TOKEN environment variable read\n- get_ha_token\\(\\) to retrieve HA authentication token\n- get_ha_headers\\(\\) to generate API request headers\n\nThis fix enables the AI assistant to properly access Home Assistant APIs\nand file system operations.\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\n2.9.19: Add detailed logging and chat history system\n\nMajor improvements:\n1. Enhanced debugging:\n   - Added detailed logging for ENABLE_FILE_ACCESS configuration\n   - Log when config_edit tools are filtered out\n   - Log all list_config_files calls with directory paths\n   - Added startup logging in run script for DEBUG_MODE and ENABLE_FILE_ACCESS\n\n2. Chat history system:\n   - New sidebar showing last 10 conversations\n   - Click on any conversation to load it\n   - \"Nuova chat\" now creates a new session instead of deleting\n   - Conversations are automatically saved and persisted\n   - Each chat shows title \\(first message\\) and message count\n   - Active conversation is highlighted in the sidebar\n\n3. New API endpoints:\n   - GET /api/conversations - List all conversations with metadata\n   - GET /api/conversations/<id> - Load a specific conversation\n\nThis enables better debugging of file access issues and provides\na complete chat history management system.\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\n2.9.20: Parse configuration.yaml includes at startup for faster responses\n\nIntelligent configuration file mapping:\n1. Parses configuration.yaml at startup to identify all !include directives\n2. Creates a mapping of config keys to their file paths\n   - automation -> automations.yaml \\(or custom path\\)\n   - script -> scripts.yaml \\(or yaml/scripts.yaml, etc.\\)\n   - scene -> yaml/scenes.yaml\n   - And all other includes \\(input_boolean, notify, rest, etc.\\)\n\n3. New helper function get_config_file_path\\(\\):\n   - Uses the pre-parsed mapping when available\n   - Falls back to defaults if mapping not found\n   - Handles both relative and absolute paths\n\n4. Updated all file access points:\n   - update_automation now uses mapped path\n   - update_script now uses mapped path  \n   - Smart context loading uses mapped paths\n   - No more searching for files - instant lookup\n\n5. AI system prompt now includes the file mapping:\n   - Shows complete list of config files and their paths\n   - AI knows exactly where to find automations, scripts, scenes\n   - Eliminates unnecessary file searches\n   - Results in faster, more accurate responses\n\nBenefits:\n- Significantly faster response times \\(no file searching\\)\n- Works with custom config structures \\(e.g., yaml/ subdirectories\\)\n- Better accuracy - AI knows the exact file locations\n- Detailed logging of the configuration structure at startup\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git restore:*)",
      "Bash(git commit:*)",
      "Bash(python3:*)",
      "Bash(ðŸ’° PAID: Anthropic, OpenAI, Google\"\n- api.py: Updated MODEL_NAME_MAPPING to support both old names \\(retrocompat\\) and new names with emoji\n\nUser benefits:\n- Instantly see which models are free vs paid\n- Better decision-making when choosing models\n- No surprise costs\n\nModel indicators:\nðŸ†“ FREE \\(with rate limits\\):\n  - NVIDIA: Kimi K2.5 ðŸ†“\n  - GitHub: All 40+ models ðŸ†“\n\nðŸ’° PAID \\(per-token\\):\n  - Claude: Sonnet 4, Opus 4, Haiku 4\n  - OpenAI: GPT-4o, o1, o3-mini\n  - Google: Gemini 2.0/2.5\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")"
    ]
  }
}
